"use strict";(self.webpackChunkinsurance=self.webpackChunkinsurance||[]).push([[29],{2029:(O,f,a)=>{a.r(f),a.d(f,{ClaimModule:()=>V});var m=a(9808),u=a(9291),o=a(2382),e=a(5e3),c=a(5278),C=a(9201),y=a(1894),d=a(4546),z=a(1047),h=a(6042),T=a(2643),v=a(2683),g=a(7957),Z=a(5197),s=a(4285);function q(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"form",2)(2,"nz-form-item")(3,"nz-form-label",3),e._uU(4,"Name "),e.qZA(),e.TgZ(5,"nz-form-control",4),e._UZ(6,"input",5),e.qZA()(),e.TgZ(7,"nz-form-item")(8,"nz-form-label",9),e._uU(9,"Insurance Cover"),e.qZA(),e.TgZ(10,"nz-form-control",4),e._UZ(11,"input",11),e.qZA()(),e.TgZ(12,"nz-form-item")(13,"nz-form-label",9),e._uU(14,"Amount"),e.qZA(),e.TgZ(15,"nz-form-control",4),e._UZ(16,"input",17),e.qZA()(),e.TgZ(17,"nz-form-item")(18,"nz-form-label",9),e._uU(19,"Select Payment"),e.qZA(),e.TgZ(20,"nz-form-control",4)(21,"nz-select",18),e._UZ(22,"nz-option",19)(23,"nz-option",20)(24,"nz-option",21)(25,"nz-option",22),e.qZA()()()(),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.paymentForm),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24)}}function A(t,i){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&t){const n=i.$implicit,r=e.oxw();e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.date),e.xp6(2),e.Oqu(n.amount),e.xp6(2),e.Oqu(n.paymentMethod),e.xp6(2),e.Oqu(r.period)}}let _=(()=>{class t{constructor(n,r,l,p){this.notification=n,this.router=r,this.service=l,this.fb=p,this.isVisible=!1,this.cars=[],this.Form2=this.fb.group({name:[{value:"",disabled:!0},[o.kI.required]],regNumber:[{value:"",disabled:!0},[o.kI.required]],year:[{value:"",disabled:!0},[o.kI.required]],country:[{value:"",disabled:!0},[o.kI.required]],dateRegistered:[{value:"",disabled:!0},[o.kI.required]],type:[{value:"",disabled:!0},[o.kI.required]],insurance:[{value:"",disabled:!0},[o.kI.required]],amount:[{value:"",disabled:!0},[o.kI.required]]}),this.paymentForm=this.fb.group({name:[{value:"",disabled:!0},[o.kI.required]],insurance:[{value:"",disabled:!0},[o.kI.required]],amount:[{value:"",disabled:!0},[o.kI.required]],paymentMethod:[{value:""},[o.kI.required]],ownerId:[{value:"",disabled:!0},[o.kI.required]],vechleId:[{value:"",disabled:!0},[o.kI.required]]}),this.paymentSubmitForm=this.fb.group({name:["",[o.kI.required]],insurance:["",[o.kI.required]],amount:["",[o.kI.required]],paymentMethod:["",[o.kI.required]],ownerId:["",[o.kI.required]],vechleId:["",[o.kI.required]]}),this.id=this.router.snapshot.params.id}ngOnInit(){this.getCarById(),this.getPaymentsByCarID()}getCarById(){this.service.getCarById(this.id).subscribe(n=>{this.paymentForm.controls.ownerId.setValue(n.ownerId),this.paymentForm.controls.vechleId.setValue(n._id),this.showDetails(n),this.notification.success("Success","Succefully Retrived Customer.")})}showDetails(n){console.log(n),this.Form2.controls.name.setValue(n.name),this.Form2.controls.regNumber.setValue(n.regNumber),this.Form2.controls.year.setValue(n.year),this.Form2.controls.country.setValue(n.country),this.Form2.controls.dateRegistered.setValue(n.dateRegistered),this.Form2.controls.type.setValue(n.type),this.Form2.controls.insurance.setValue(n.insurance),this.service.getInsuranceByName(n.insurance).subscribe(r=>{this.paymentForm.controls.amount.setValue(r.amount),this.period=r.period})}showModal(){this.isVisible=!0,this.paymentForm.controls.name.setValue(this.Form2.value.name),this.paymentForm.controls.insurance.setValue(this.Form2.value.insurance)}handleOk(){this.paymentSubmitForm.controls.name.setValue(this.paymentForm.value.name),this.paymentSubmitForm.controls.insurance.setValue(this.paymentForm.value.insurance),this.paymentSubmitForm.controls.amount.setValue(this.paymentForm.value.amount),this.paymentSubmitForm.controls.ownerId.setValue(this.paymentForm.value.ownerId),this.paymentSubmitForm.controls.vechleId.setValue(this.paymentForm.value.vechleId),this.service.createPayment(this.paymentForm.getRawValue()).subscribe(n=>{console.log(n),this.notification.success("Success","Succefully Retrived Customer.")},n=>{this.notification.error("Error",n)}),this.isVisible=!1}handleCancel(){console.log("Button cancel clicked!"),this.isVisible=!1}getPaymentsByCarID(){this.service.getPaymentsByCarID(this.id).subscribe(n=>{this.cars=n,this.notification.success("Success","Succefully Retrived Payments.")},n=>{this.notification.error("Error",n)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.zb),e.Y36(u.gz),e.Y36(C.c),e.Y36(o.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["insurance-claim-details"]],decls:55,vars:28,consts:[["nz-row",""],["nz-col","","nzSpan","12"],["nz-form","",3,"formGroup"],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid E-mail!",3,"nzSm","nzXs"],["nz-input","","formControlName","name"],["nz-input","","formControlName","type"],["nz-input","","formControlName","regNumber"],["nz-input","","formControlName","year"],["nzRequired","","nzFor","City",3,"nzSm","nzXs"],["nz-input","","formControlName","dateRegistered"],["nz-input","","formControlName","insurance"],["nz-button","",3,"nzType","click"],["nzTitle","The first Modal",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["basicTable",""],[4,"ngFor","ngForOf"],["nz-input","","formControlName","amount"],["id","gender","formControlName","paymentMethod","nzPlaceHolder","Select Payment Method"],["nzValue","Ecocash","nzLabel","Ecocash"],["nzValue","One-Money","nzLabel","One-Money"],["nzValue","Telecash","nzLabel","Telecash"],["nzValue","Swipe","nzLabel","Swipe"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"nz-form-item")(4,"nz-form-label",3),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"nz-form-control",4),e._UZ(7,"input",5),e.qZA()(),e.TgZ(8,"nz-form-item")(9,"nz-form-label",3),e._uU(10,"Type"),e.qZA(),e.TgZ(11,"nz-form-control",4),e._UZ(12,"input",6),e.qZA()(),e.TgZ(13,"nz-form-item")(14,"nz-form-label",3),e._uU(15,"RegNumber"),e.qZA(),e.TgZ(16,"nz-form-control",4),e._UZ(17,"input",7),e.qZA()(),e.TgZ(18,"nz-form-item")(19,"nz-form-label",3),e._uU(20,"Year"),e.qZA(),e.TgZ(21,"nz-form-control",4),e._UZ(22,"input",8),e.qZA()(),e.TgZ(23,"nz-form-item")(24,"nz-form-label",9),e._uU(25,"Date Registered"),e.qZA(),e.TgZ(26,"nz-form-control",4),e._UZ(27,"input",10),e.qZA()(),e.TgZ(28,"nz-form-item")(29,"nz-form-label",9),e._uU(30,"Insurance Cover"),e.qZA(),e.TgZ(31,"nz-form-control",4),e._UZ(32,"input",11),e.qZA()()(),e.TgZ(33,"button",12),e.NdJ("click",function(){return r.showModal()}),e.TgZ(34,"span"),e._uU(35,"Process Claim"),e.qZA()(),e.TgZ(36,"nz-modal",13),e.NdJ("nzVisibleChange",function(p){return r.isVisible=p})("nzOnCancel",function(){return r.handleCancel()})("nzOnOk",function(){return r.handleOk()}),e.YNc(37,q,26,17,"ng-container",14),e.qZA()(),e.TgZ(38,"div",1)(39,"nz-table",null,15)(41,"thead")(42,"tr")(43,"th"),e._uU(44,"Name"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Date"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Amount"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Payment Method"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Period"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,A,11,5,"tr",16),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("formGroup",r.Form2),e.xp6(2),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(3),e.Q6J("nzSm",6)("nzXs",24),e.xp6(2),e.Q6J("nzSm",14)("nzXs",24),e.xp6(2),e.Q6J("nzType","primary"),e.xp6(3),e.Q6J("nzVisible",r.isVisible),e.xp6(18),e.Q6J("ngForOf",r.cars))},directives:[y.SK,y.t3,o._Y,o.JL,d.Lr,o.sg,d.Nx,d.iK,d.Fd,z.Zp,o.Fj,o.JJ,o.u,h.ix,T.dQ,v.w,g.du,g.Hf,Z.Vq,Z.Ip,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,m.sg],styles:[""]}),t})();function U(t,i){if(1&t&&(e.TgZ(0,"tr",4)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",5),e._uU(13,"Make Payment"),e.qZA()()()),2&t){const n=i.$implicit;e.MGl("routerLink","/claim/make-claim/",n._id,""),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.regNumber),e.xp6(2),e.Oqu(n.type),e.xp6(2),e.Oqu(n.dateRegistered),e.xp6(2),e.Oqu(n.year)}}let F=(()=>{class t{constructor(n,r,l){this.notification=n,this.fb=r,this.service=l,this.searchText="",this.result=[],this.captchaTooltipIcon={type:"info-circle",theme:"twotone"}}submitForm(){this.validateForm.valid?console.log("submit",this.validateForm.value):Object.values(this.validateForm.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))})}getCaptcha(n){n.preventDefault()}ngOnInit(){this.validateForm=this.fb.group({email:[null,[o.kI.email,o.kI.required]],password:[null,[o.kI.required]],checkPassword:[null,[o.kI.required]],nickname:[null,[o.kI.required]],phoneNumberPrefix:["+86"],phoneNumber:[null,[o.kI.required]],website:[null,[o.kI.required]],captcha:[null,[o.kI.required]],agree:[!1]})}search(){console.log(this.searchText),this.service.getCarByRegNumber(this.searchText).subscribe(n=>{this.result=[n],this.notification.success("Success","Succefully Retrived Car.")},n=>{this.notification.error("Error",n)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.zb),e.Y36(o.qu),e.Y36(C.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["insurance-create-claim"]],decls:23,vars:2,consts:[["nz-input","","size","40","id","email",3,"ngModel","ngModelChange"],["nz-button","",3,"click"],["basicTable",""],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["nz-button",""]],template:function(n,r){1&n&&(e.TgZ(0,"div")(1,"input",0),e.NdJ("ngModelChange",function(p){return r.searchText=p}),e.qZA(),e.TgZ(2,"button",1),e.NdJ("click",function(){return r.search()}),e._uU(3," Search"),e.qZA()(),e.TgZ(4,"div")(5,"nz-table",null,2)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"RegNumber"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Type"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Date Registered"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Year"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Action"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,U,14,6,"tr",3),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("ngModel",r.searchText),e.xp6(21),e.Q6J("ngForOf",r.result))},directives:[z.Zp,o.Fj,o.JJ,o.On,h.ix,T.dQ,v.w,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,m.sg,u.rH],styles:[""]}),t})();var b=a(5737);function I(t,i){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a"),e._uU(9),e.qZA(),e._UZ(10,"nz-divider",3),e.TgZ(11,"a"),e._uU(12,"Delete"),e.qZA()()()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.age),e.xp6(2),e.Oqu(n.address),e.xp6(3),e.hij("Action \u4e00 ",n.name,"")}}const S=[{path:"create-claim",component:F},{path:"view-claims",component:(()=>{class t{constructor(n){this.notification=n,this.listOfData=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"}]}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.zb))},t.\u0275cmp=e.Xpm({type:t,selectors:[["insurance-view-claims"]],decls:14,vars:2,consts:[[3,"nzData"],["basicTable",""],[4,"ngFor","ngForOf"],["nzType","vertical"]],template:function(n,r){if(1&n&&(e.TgZ(0,"nz-table",0,1)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Age"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Address"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Action"),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,I,13,4,"tr",2),e.qZA()()),2&n){const l=e.MAs(1);e.Q6J("nzData",r.listOfData),e.xp6(13),e.Q6J("ngForOf",l.data)}},directives:[s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,m.sg,b.g],styles:[""]}),t})()},{path:"make-claim/:id",component:_}];let k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(S)],u.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[c.zb],imports:[[m.ez,d.U5,z.o7,Z.LV,o.UX,s.HQ,o.u5,b.S,h.sL,g.Qp,u.Bz]]}),t})();var J=a(9727);let V=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[c.zb,J.dD],imports:[[m.ez,k,x]]}),t})()}}]);